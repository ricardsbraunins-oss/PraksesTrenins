<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Supabase Upload</title>
</head>
<body>

<input type="file" id="fileInput">
<button id="uploadBtn">Upload</button>

<script type="module">
  import { supabase } from './supabase.js'

  document.getElementById('uploadBtn').addEventListener('click', uploadFile)

  async function uploadFile() {
    const fileInput = document.getElementById('fileInput')
    const file = fileInput.files[0]

    if (!file) {
      alert('No file selected')
      return
    }

    const filePath = `${Date.now()}_${file.name}`

    const { error } = await supabase
      .storage
      .from('test')
      .upload(filePath, file)

    if (error) {
      alert(error.message)
    } else {
      alert('Upload successful')
    }
  }
</script>

</body>
</html>
